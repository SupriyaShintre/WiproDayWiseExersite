<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="#">Home</a>
  <div class="ms-auto me-3">
    <button class="btn btn-outline-secondary me-2" (click)="toCart()">Cart ({{cartCount}})</button>
    <button class="btn btn-danger" (click)="logout()">Logout</button>
  </div>
</nav>

<div class="container mt-4">
  <h2 class="text-center mb-4">Food Items</h2>
  <div class="row">
    @for (food of foods; track $index) {
      <div class="col-md-4 mb-4">
        <div class="card h-100">
          <img [src]="food.image" class="card-img-top" [alt]="food.foodName" />
          <div class="card-body">
            <h5 class="card-title">{{food.foodName}}</h5>
            <p class="card-text">{{food.description}}</p>
            <p class="card-text">{{food.price | currency:'INR'}}</p>

            <!-- New: plus button -->
            <div class="d-flex gap-2">
              <button class="btn btn-outline-primary" (click)="add(food.id!)">+ Add</button>
              <button class="btn btn-primary" (click)="addAndGoToPay(food.id!)">Buy Now</button>
            </div>
          </div>
        </div>
      </div>
    }
  </div>
</div>

<!-- New: sticky footer summary -->
<div class="position-fixed bottom-0 start-0 end-0 bg-light border-top py-2 px-3 d-flex justify-content-between align-items-center">
  <div><strong>Total:</strong> {{ total | currency:'INR' }} â€” <small>{{cartCount}} item(s)</small></div>
  <div class="d-flex gap-2">
    <button class="btn btn-outline-secondary" (click)="toCart()">View Cart</button>
    <button class="btn btn-warning" [disabled]="cartCount===0" (click)="proceedToPay()">Proceed to Pay</button>
  </div>
</div>
